<!-- Copyright (C) 2016 NooBaa -->

<managed-form class="column greedy" params="
    name: formName,
    fields: fields,
    onValidate: onValidate,
    onValidateSubmit: onValidateSubmit,
    onSubmit: onSubmit,
    owner: $component
">
    <div class="greedy column">
        <p class="warning-msg warning row pad alt-bg content-middle push-next">
            <svg-icon class="push-next warning" params="name: 'notif-warning'">
            </svg-icon>
            <span class="greedy">
                You are about to regenerate an account's security credentials.
                This will invalidate all connections between S3 clients and NooBaa which are connected using the current credentials.
            </span>
        </p>

        <editor params="label: 'Enter your password'">
            <password-field
                ko.validationCss="$form.userPassword"
                params="value: $form.userPassword"
            ></password-field>
            <validation-message params="field: $form.userPassword"></validation-message>
        </editor>
    </div>

    <div class="row content-middle align-end">
        <button type="button"
            class="link alt-colors push-next"
            ko.click="onCancel"
        >
            Cancel
        </button>
        <button class="btn"
            ko.shakeOnClick="!$form.isValid()"
        >
            Regenerate Credentials
        </button>
    </div>
</managed-form>
