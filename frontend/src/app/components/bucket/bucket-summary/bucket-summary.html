<!-- Copyright (C) 2016 NooBaa -->

<div class="row" ko.if="dataReady">
    <section class="c3 column pad borders">
        <div class="greedy row content-middle">
            <svg-icon class="push-next" params="name: state().icon" ko.css="state().css">
            </svg-icon>
            <span class="heading3 greedy" ko.text="state().text"></span>
        </div>
        <hr />
        <div class="greedy row content-middle">
            <span class="c5 highlight push-next">Data Placement:</span>
            <span class="c7 text-right" ko.text="dataPlacement"></span>
        </div>
    </section>

    <section class="c6 column push-both">
        <div class="align-middle">
            <div class="row">
                <div class="column push-both">
                    <toggle-filter class="align-start push-next" params="
                        options: graphOptions,
                        selected: viewType
                    "></toggle-filter>

                    <chart-legend ko.css="legendCss()" params="items: legend, format: 'size'"></chart-legend>
                    <!-- ko if: viewType() === 'dataUsage' -->
                    <p class="row push-next">
                        <span class="greedy highlight">
                            {{availableForWrite}}
                            are available for upload
                        </span>

                        <svg-icon class="icon-small" params="name: 'question'"
                            ko.tooltip="availableForWriteTootlip"></svg-icon>
                    </p>
                    <!-- /ko -->
                </div>

                <!-- ko if: viewType() === 'rawUsage' -->
                <pie-chart class="push-prev" params="
                    values: rawUsageValues,
                    primaryText: totalStorage,
                    secondaryText: 'Total'
                "></pie-chart>
                <!-- /ko -->

                <!-- ko if: viewType() === 'dataUsage' -->
                <bar-chart class="push-prev" params="values: dataUsageValues"></bar-chart>
                <!-- /ko -->
            </div>
            <!-- ko if: viewType() === 'available' -->
            <bar class="hpad" params="
                values: availableValues,
                teeth: 5,
                limits: formatBarLabel,
                width: 500,
                minRatio: 0,
                markers: quotaMarkers()
            "></bar>
            <!-- /ko -->
        </div>
    </section>

    <section class="c3 column">
        <div class="greedy borders pad column">
             <p class="row greedy content-middle">
                <span class="c4 highlight">Bucket Quota:</span>
                <span class="c8 text-right" ko.text="bucketQuota"></span>
            </p>
            <hr>
             <p class="row greedy content-middle">
                <span class="c4 highlight">Cloud Sync:</span>
                <span class="c8 text-right" ko.text="cloudSyncStatus"></span>
            </p>
            <hr>
            <p class="row greedy content-middle">
                <span class="c4 highlight">Last Access:</span>
                <span class="c8 text-right" ko.text="lastAccess"></span>
            </p>
        </div>
    </section>
</div>
