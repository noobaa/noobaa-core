<!-- Copyright (C) 2016 NooBaa -->

<div class="fill row" ko.visible="!bucketLoaded()">
    <loading-indicator class="align-middle greedy" params="label: true"></loading-indicator>
</div>

<div class="summary greedy row" ko.css.visible="bucketLoaded">
    <section class="c3 column pad borders">
        <div class="row content-middle greedy">
            <svg-icon class="push-next" params="name: state().name" ko.css="state().css">
            </svg-icon>
            <span class="heading3 greedy" ko.text="state().tooltip"></span>
        </div>
        <hr/>
        <div class="row content-middle greedy">
            <span class="c5 highlight push-next">Data Placement:</span>
            <span class="c7 text-right" ko.text="dataPlacement"></span>
        </div>
    </section>

    <section class="column c6 push-both">
        <div class="column align-middle greedy">
            <div class="row content-middle push-next-half">
                <h2 class="heading3 greedy push-next">Storage Availability</h2>
                <p class="row remark content-middle">
                    <svg-icon class="icon-small push-next-half" params="name: 'clock'"></svg-icon>
                    Updated: {{availablityTime}}
                </p>
            </div>
            <chart-legend params="
                items: availablity,
                format: 'size'
            "></chart-legend>

            <div class="greedy row">
                <bar class="align-middle" params="
                    values: availablity,
                    limits: formatSize,
                    teeth: 5,
                    minRatio: 0,
                    markers: availablityMarkers,
                    width: 444
                "></bar>
            </div>
        </div>
    </section>

    <section class="c3 column">
        <div class="greedy borders pad column">
            <div class="row content-middle greedy">
                <canvas class="usage-chart push-next"
                    ko.tooltip="dataUsageChartTooltip"
                    ko.css.disabled="barChart.disabled"
                    ko.canvas="barChart"
                ></canvas>
                <div class="column">
                    <p class="heading3" ko.text="dataOptimization"></p>
                    <p>
                        Data Optimization
                        <svg-icon class="icon-small push-prev-half"
                            params="name: 'notif-info'"
                            ko.tooltip="dataUsageTooltip"
                        ></svg-icon>
                    </p>
                </div>
            </div>
            <hr />
            <div class="row content-middle greedy">
                <pie-chart class="push-next"
                    ko.tooltip="rawUsageChartTooltip"
                    params="
                        values: rawUsage,
                        showSum: false,
                        showValues: false,
                        enableHover: false,
                        radius: 30,
                        lineWidth: 8
                    "
                ></pie-chart>
                <div class="column">
                    <p class="heading3" ko.text="rawUsageTotal"></p>
                    <p>
                        Raw Usage by This Bucket
                        <svg-icon class="icon-small push-prev-half"
                            params="name: 'notif-info'"
                            ko.tooltip="rawUsageTooltip"
                        ></svg-icon>
                    </p>
                </div>
            </div>
        </div>
    </section>
</div>
