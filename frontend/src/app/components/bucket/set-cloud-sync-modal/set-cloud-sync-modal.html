<modal class="modal-medium" params="
    title: 'Set Cloud Sync',
    onClose: () => cancel()
">
    <section class="column greedy">
        <h2 class="heading3">
            Set connection
        </h2>

        <editor params="label: 'Target Connection'">
            <dropdown params="
                placeholder: 'Choose a connection',
                options: connectionOptions,
                selected: connection
            "></dropdown>
            <div class="val-msg" data-bind="validationMessage: connection"></div>
        </editor>

         <editor params="label: 'Target Bucket', disabled: !targetBucketsOptions()">
            <dropdown params="
                placeholder: 'Choose Bucket',
                disabled: !targetBucketsOptions(),
                options: targetBucketsOptions,
                selected: targetBucket
            "></dropdown>
            <div class="val-msg" data-bind="validationMessage: targetBucket"></div>
        </editor>

        <h2 class="heading3 push-prev">
            Configure policy
        </h2>

        <editor params="
            label: 'Sync Bucket Every',
            disabled: !targetBucket(),
            insertValMessages: false
        ">
                <div class="row">
                    <input class="push-next" type="Number"  min="1" data-bind="
                        value: frequency,
                        enable: targetBucket
                    "/>

                    <dropdown class="freq-unit" params="
                        selected: frequencyUnit,
                        options: frequencyUnitOptions,
                        disabled: !targetBucket()
                    "></dropdown>
                </div>
        </editor>

        <editor params="
            label: 'Sync Type',
            disabled: !targetBucket(),
            insertValMessages: false
        ">
            <radio-group params="
                selected: direction,
                options: directionOptions,
                disabled: !targetBucket()
            "></radio-group>
        </editor>

        <checkbox  params="
            label: 'Synchronize File Deletions',
            checked: syncDeletions,
            disabled: !targetBucket() || direction() === 3
        "></checkbox>
    </section>

    <div class="row content-middle align-end">
        <button class="link alt-colors push-next" data-bind="click: cancel">Cancel</button>
        <button class="btn" data-bind="click: save">Save</button>
    </div>
</modal>

<!-- ko if: isAddS3ConnectionModalVisible -->
<add-s3-connection-modal params="onClose: () => hideAddS3ConnectionModal()">
</add-s3-connection-modal>
<!-- /ko -->
