<!-- Copyright (C) 2016 NooBaa -->

<form class="column content-middle"
    ko.trapFocus="true"
    ko.validationOptions="{ insertMessages: false }"
>
    <h1 class="heading1 push-next welcome-message">
        Welcome to NooBaa!
    </h1>

    <section class="column card-bg card-shadow box push-both">
        <h2 class="heading1 push-next pad content-box">
            Reset Password
        </h2>

        <h3 class="heading3 hpad push-next">
            Please update your password for future login
        </h3>

        <div class="hpad">
            <editor params="label: 'Current Password'">
                <password-field ko.css.invalid="isPasswordInvalid"
                    params="
                        value: password,
                        placeholder: 'Enter your current password',
                        hasFocus: true
                    "
                ></password-field>
                <span class="val-msg" ko.validationMessage="password"></span>
            </editor>

            <editor params="label: 'New Password'">
                <password-field class="push-next-half"
                    ko.css.invalid="isNewPasswordInvalid"
                    params="
                        value: newPassword,
                        placeholder: 'Enter your new password',
                        strengthCalc: calcPasswordStrength
                "></password-field>
                <validation-rules-list params="field: newPassword, highlightErrors: wasValidated"></validation-rules-list>
            </editor>
        </div>

        <div class="row content-middle pad content-box push-prev">
            <div class="greedy"></div>
            <button type="button"
                class="link alt-colors"
                ko.click="back"
            >
                Go Back
            </button>
            <button
                class="btn align-end push-prev"
                ko.click="change"
                ko.shakeOnClick="errors().length"
            >
                Change
            </button>
        </div>
    </section>
    <div class="row">
        <a class="link"
            target="_blank"
            href="/public/eula">
            Terms &amp; Conditions
        </a>
        <vr class="push-both-half"></vr>
        <a class="link"
            ko.attr.href="supportEmailHref"
        >
            Contact Support
        </a>
    </div>
</form>
