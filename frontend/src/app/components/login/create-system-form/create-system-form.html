<!-- Copyright (C) 2016 NooBaa -->

<section class="row create-system-form">
    <div class="row double-pad alt-bg push-next">
        <div class="column align-middle">
            <svg-icon class="logo icon-xbig align-middle" params="name: 'logo'"></svg-icon>

           <h1 class="heading1">Welcome to NooBaa</h1>
            <p>Two quick steps and we are ready to go</p>
        </div>
    </div>

    <div class="steps double-pad alt-bg column" ko.css="`step${step()}`">
        <stepper class="push-next" params="steps: steps, current: step" ></stepper>

        <div class="row pages">
            <div class="page column" ko.css.selected="step() === 0">
                <p class="heading3">Create your owner account</p>

                <editor params="label: 'Activation code'">
                    <div class="row content-middle"
                        data-bind="validationOptions: { insertMessages: false }"
                    >
                        <input type="text" placeholder="Your activation code"
                            ko.value="activationCode">
                        <svg-icon class="spin push-prev-half"
                            ko.visible="activationCode.isValidating"
                            params="name: 'in-progress'"></svg-icon>
                    </div>
                    <span class="val-msg" data-bind="validationMessage: activationCode"></span>
                </editor>

                <editor params="label: 'Email address'">
                    <div class="row content-middle"
                        data-bind="validationOptions: { insertMessages: false }"
                    >
                        <input type="text" placeholder="Your email address"
                               ko.value="email">
                        <svg-icon class="spin push-prev-half"
                                  ko.visible="email.isValidating"
                                  params="name: 'in-progress'"></svg-icon>
                    </div>
                    <span class="val-msg" data-bind="validationMessage: email"></span>
                </editor>

                <editor class="push-next" params="
                    label: 'Password',
                    insertValMessages: false
                ">
                    <password-field class="push-next-half"
                        ko.css="{ 'no-validation-highlight': !wasValidated() }"
                        params="
                            value: password,
                            placeholder: 'Enter password',
                            strengthCalc: calcPasswordStrength
                    "></password-field>
                    <validation-rules-list params="field: password, highlightErrors: wasValidated"></validation-rules-list>
                </editor>
            </div>

            <div class="page column" ko.css.selected="step() === 1">
                <p class="heading3">
                    Hi
                    <span ko.text="name"></span>
                    , let's configure your system
                </p>

                <editor params="label: 'NooBaa System name'">
                    <input type="text" placeholder="Name your system" ko.value="systemName">
                </editor>

                <editor class="preview-only" params="label: 'Server DNS name'">
                    <div class="row content-middle"
                        data-bind="validationOptions: { insertMessages: false }"
                    >
                        <input type="text" ko.value="serverDNSName">
                        <svg-icon class="spin push-prev-half"
                                  ko.visible="serverDNSName.isValidating"
                                  params="name: 'in-progress'"></svg-icon>
                    </div>
                    <span class="val-msg" data-bind="validationMessage: serverDNSName"></span>
                    <p class="hint">optional</p>
                </editor>

                <p class="remark push-prev">
                    By clicking the Create system button, I accept NooBaa's
                    <a class="link" target="_blank" href="/public/eula">Terms &amp; Conditions</a>
                </p>
            </div>
        </div>

        <div class="row content-middle align-end push-prev">
            <button class="link alt-colors push-next" ko.visible="isPrevVisible" ko.click="prev">
                Previous
            </button>

            <button class="btn " ko.visible="isNextVisible" ko.click="next">
                Next
            </button>

            <working-button ko.visible="isCreateSystemVisible"
                ko.shakeOnClick="shakeCreateBtn"
                params="
                    working: creatingSystem,
                    workingLabel: 'Creating...',
                    click: createSystem
                "
            >
                Create System
            </working-button>
        </div>
    </div>
</section>
