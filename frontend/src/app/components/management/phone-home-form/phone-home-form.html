<!-- Copyright (C) 2016 NooBaa -->

<collapsible-section params="
    title: 'Phone Home Proxy',
    collapsed: isCollapsed
">
    <section class="row" data-name="collapsed">
        <p>
            Proxy Address:
            <output data-bind="
                value: proxyAddressText,
                css: { 'text-tech': !!proxyAddress() }
            "></output>
        </p>
    </section>

    <section class="column" data-name="expanded">
        <p class="push-next">Phone home enables the appliance to communicate support related information and help us provide better remote support services (no personal data will be sent)<br>
        If the appliance is not directly connected to the Internet you may need to configure an HTTP proxy.</p>

        <editor params="label: 'Use Proxy'">
            <toggle-switch params="value: usingProxy"></toggle-switch>
        </editor>

        <editor params="label: 'Proxy address', disabled: !usingProxy()">
            <input class="proxy-name" type="text" placeholder="IP or DNS name" data-bind="
                value: proxyIPOrDNS,
                enable: usingProxy
            "/>
        </editor>

        <editor params="label: 'Proxy port', disabled: !usingProxy()">
            <input type="number" min="1" max="65535" placeholder="Port" data-bind="
                value: proxyPort,
                enable: usingProxy
            "/>
       </editor>

        <working-button class="align-start push-prev"
            data-bind="shakeOnClick: errors().length"
            params="
                click: applyChanges,
                working: isProxyTestRunning,
                workingLabel: 'Testing...'
            "
        >
            Apply Changes
        </working-button>
    </section>
</collapsible-section>
