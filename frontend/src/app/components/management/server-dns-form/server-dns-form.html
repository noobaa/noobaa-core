<collapsible-section params="
    title: 'System DNS Name / Address',
    collapsed: isCollapsed
">
    <section data-name="collapsed">
        <p>
            Server Address:
            <output class="text-tech" data-bind="text: baseAddress"></output>
        </p>
    </section>

    <section class="column" data-name="expanded">
        <p class="push-next">
            Domain Name System: The Internet's system for converting alphabetic names into numeric addresses.
        </p>

        <div class="column push-next">
            <editor params="label: 'System Address'">
                <radio-group params="selected: addressType, options: addressOptions"></radio-group>
            </editor>

            <editor params="label: 'IP Address'" data-bind="visible: usingIP">
                <input type="text" disabled data-bind="value: ipAddress" />
            </editor>

            <editor params="label: 'DNS Name'" data-bind="visible: usingDNS">
                <div class="input-wrapper push-next align-start">
                    <input type="text" data-bind="textInput: dnsName" />

                    <svg-icon class="validating-indicator spin"
                        data-bind="visible: dnsName.isValidating"
                        params="name: 'in-progress'"></svg-icon>
                </div>
                <p class="highlight push-both">
                    Before clicking the update button follow the following procedure:
                </p>

                <ol class="bullet-list">
                    <li>
                        Add the new name in your DNS to have both the old and new names avaliable
                        <div class="alt-bg pad config">
                            <span>
                                <span class="highlight">IP:</span>
                                <output class="text-tech" data-bind="value: ipAddress"></output>
                            </span>

                            <span>
                                <span class="highlight">Name:</span>
                                <span class="text-tech" data-bind="
                                    text: dnsName
                                "></span>
                            </span>
                        </div>
                    </li>
                    <li>
                        Click the update button
                    </li>
                    <li>
                        After 24 hours the old name can be removed from your DNS
                    </li>
                </ol>
            </editor>
        </div>

        <p class="row remark">
            <svg-icon class="icon-small" params="name: 'notif-info'">
            </svg-icon>
            <span class="greedy">
                In any case, reinstalling a node (from the install node wizard) will update the server address used by that node. Make sure that the server IP was configured Static and no DHCP, otherwize if the IP will suddenly changes the nodes will lose connectivity.
            </span>
        </p>

        <button class="btn align-start push-both" data-bind="
            click: update,
            shakeOnClick: errors().length,
        ">
            update
        </button>
    </section>
</collapsible-section>

<!-- ko if: isUpdateSystemNameModalVisible -->
<update-system-name-modal params="
    name: baseAddress,
    onClose: () => hideUpdateSystemNameModal()
"></update-system-name-modal>
<!-- /ko -->
