<!-- Copyright (C) 2016 NooBaa -->

<!-- ko if: areFormsReady -->
<form class="column greedy" ko.submit="submitForms">
    <editor params="label: 'Connection Name'">
        <input type="text"
            placeholder="Enter name"
            ko.value="form.connectionName",
            ko.hasFocus="true"
            ko.validationCss="form.connectionName"
        />
        <validation-message params="field: form.connectionName"></validation-message>
    </editor>

    <editor params="label: 'Service'">
        <dropdown params="
            options: serviceOptions,
            selected: form.service,
            disabled: form.isValidating
        "></dropdown>
    </editor>

    <!-- ko with: subTemplate -->
    <!-- ko template: $data --><!-- /ko -->
    <!-- /ko -->

    <div class="row greedy content-middle push-prev">
        <div class="greedy">
            <p class="row content-middle error" ko.visible="showGlobalError">
                Somthing went wrong
                <svg-icon class="icon-small push-prev-half"
                    ko.tooltip="{ text: globalError, breakWords: true }",
                    params="name: 'notif-info'"
                ></svg-icon>
            </p>
        </div>
        <button type="button" class="link alt-colors push-next" ko.click="onCancel">
            Cancel
        </button>
        <button class="btn" ko.shakeOnClick="!areFormsValid()">
            Save
        </button>
    </div>
</form>
<!-- /ko -->
