<!-- Copyright (C) 2016 NooBaa -->

<p class="push-next">Use a bucket from a public cloud to serve as a NooBaa storage resource</p>

<section class=" column greedy">
    <editor params="label: 'Target Connection'">
        <dropdown params="
                placeholder: 'Choose a connection',
                actions: connectionActions,
                options: connectionOptions,
                selected: connection,
                hasFocus: true
            "
            ko.css.invalid="connection.isModified() && !connection.isValid()"
        ></dropdown>
        <div class="val-msg" ko.validationMessage="connection"></div>
    </editor>

    <editor params="
        label: targeBucketLabel,
        disabled: !targetBucketsOptions()
    ">
        <dropdown params="
                filter: true,
                placeholder: targetBucketPlaceholder,
                disabled: !targetBucketsOptions(),
                options: targetBucketsOptions,
                loading: fetchingTargetBucketsOptions,
                selected: targetBucket
            "
            ko.css.invalid="targetBucket.isModified() && !targetBucket.isValid()"
        ></dropdown>
        <div class="val-msg" ko.validationMessage="targetBucket"></div>
    </editor>

    <editor class="push-next" params="
        label: 'Resource Name',
        disabled: !targetBucket(),
        insertValMessages: false
    ">
        <div class="push-next-half">
            <input type="text" placeholder="Choose Name"
                   ko.css="{ 'no-validation-highlight': !wasValidated() }"
                   ko.enable="targetBucket"
                   ko.textInput="resourceName"/>
        </div>
        <validation-rules-list params="field: resourceName, highlightErrors: wasValidated"></validation-rules-list>
    </editor>
</section>

<div class="row align-end push-prev">
    <button class="link alt-colors push-next" ko.click="cancel">
        Cancel
    </button>
    <button class="btn" ko.click="add" ko.shakeOnClick="errors().length">
        Add
    </button>
</div>
