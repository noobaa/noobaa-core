<!-- Copyright (C) 2016 NooBaa -->

<form class="column greedy">
    <new-wizard class="column greedy" params="
        steps: steps,
        step: form.step,
        actionLabel: 'Create',
        onBeforeStep: onBeforeStep.bind($component),
        onComplete: form.submit,
        onCancel: onCancel.bind($component)
    ">
        <section class="greedy push-both">
            <p class="push-next">A gateway bucket can be used for data display, the data will reside in
            it's original source and will not be encrypted or replicated</p>


            <editor params="label: 'Bucket Name'">
                <input type="text"
                    class="push-next-half"
                    ko.textInput="throttledBucketName"
                    ko.validationCss="form.bucketName"
                />
                <ul class="restriction-list" ko.foreach="nameRestrictionList">
                    <li ko.text="label" ko.css="css"></li>
                </ul>
            </editor>
        </section>

        <section class="column greedy push-both">
            <div class="column greedy push-next">
                <h2 class="heading3">Read Policy</h2>
                <p class="push-next-half">This gateway bucket will read its data from the selected namespace resources</p>
                <data-table class="greedy resource-table" params="
                    columns: readPolicyTableColumns,
                    data: readPolicyRows
                "></data-table>
                <validation-message params="field: form.readPolicy"></validation-message>
            </div>

            <div>
                <h2 class="heading3">Write Policy</h2>
                <p>This gateway bucket will write its data to the selected namespace resource
                <editor params="
                    label: 'Namespace Resource',
                    disabled: isWritePolicyDisabled
                ">
                    <dropdown params="
                        options: writePolicyOptions,
                        selected: form.writePolicy,
                        disabled: isWritePolicyDisabled,
                        invalid: form.writePolicy.isInvalidTouched
                    "></dropdown>
                    <validation-message params="field: form.writePolicy"></validation-message>
                </editor>
            </div>
        </section>
    </new-wizard>
</form>
