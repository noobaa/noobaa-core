<!-- Copyright (C) 2016 NooBaa -->

<form class="column greedy" ko.submit="form.submit" ko.if="isAccountReady">
  <editor params="label: 'S3 Access'">
        <toggle-switch params="
            value: form.hasS3Access,
            onLabel: 'Enabled',
            offLabel: 'Disabled'
        "></toggle-switch>
    </editor>

    <editor params="label: 'S3 default placement', disabled: !form.hasS3Access()">
        <dropdown params="
            options: resourceOptions,
            selected: form.defaultResource,
            disabled: !form.hasS3Access(),
            placeholder: 'Choose Resource',
            invalid: form.defaultResource.isInvalidTouched
        "></dropdown>
         <validation-message params="field: form.defaultResource"></validation-message>
    </editor>

    <section class="column greedy">
        <h2 class="heading3" ko.css.disabled="!form.hasS3Access()">
            Buckets Permissions:
        </h2>

        <radio-group params="
            options: bucketPermissionModes,
            selected: form.hasAccessToAllBuckets,
            multiline: true,
            disabled: !form.hasS3Access()
        "></radio-group>

        <div class="align-end push-next-half" ko.css.disabled="isBucketSelectionDisabled">
            <button class="link alt-colors"
                ko.click="onSelectAllBuckets"
                ko.disable="isBucketSelectionDisabled"
            ">
                Select all
            </button>
            |
            <button class="link alt-colors"
                ko.click="onClearSelectedBuckets"
                ko.disable="isBucketSelectionDisabled"
            >
                Clear
            </button>
        </div>

        <multiselect class="push-next greedy" params="
            options: bucketOptions,
            selected: form.allowedBuckets,
            disabled: isBucketSelectionDisabled
        "></multiselect>
    </section>

    <div class="row align-end content-middle">
        <button class="link alt-colors push-next" ko.click="onCancel">
            Cancel
        </button>
        <button class="btn" ko.shakeOnClick="!form.isValid()">
            Save
        </button>
    </div>
</form>
