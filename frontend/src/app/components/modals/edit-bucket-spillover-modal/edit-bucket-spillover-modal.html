<!-- Copyright (C) 2016 NooBaa -->

<managed-form class="column greedy" params="
    name: formName,
    fields: fields,
    onValidate: onValidate,
    onWarn: values => onWarn(values, internalResourceNames),
    onSubmit: onSubmit
">
    <section class="column greedy">
        <p>
            The selected resource for spillover will be used automatically when this bucket storage is not
            enough to store new data. Once possible, data will be spilled back.
        </p>
        <editor params="label: 'Spillover for this bucket'">
            <toggle-switch params="
                value: $form.useSpillover,
                onLabel: 'Enabled',
                offLabel: 'Disabled',
                hasFocus: true
            "></toggle-switch>
        </editor>
        <editor params="
            label: 'Spillover Resource',
            disabled: !$form.useSpillover()
        ">
            <dropdown
                params="
                    options: resourceOptions,
                    selected: $form.target,
                    disabled: !$form.useSpillover(),
                    placeholder: 'Choose Resource'
                "
                ko.validationCss="$form.target"
            ></dropdown>
            <validation-message params="field: $form.target"></validation-message>
        </editor>
    </section>

    <div class="row align-end">
        <button type="button" class="link alt-colors push-next" ko.click="onCancel">
            Cancel
        </button>
        <button class="btn" ko.shakeOnClick="!$form.isValid()">
            save
        </button>
    </div>
</managed-form>

