<!-- Copyright (C) 2016 NooBaa -->

<!-- ko if: isFormReady -->
<form class="column greedy" ko.submit="form.submit">
    <div class="column greedy push-next">
        <h2 class="heading3">Read Policy</h2>
        <p class="push-next-half">This gateway bucket will read its data from the selected namespace resources</p>
        <data-table class="greedy resource-table" params="
            columns: readPolicyTableColumns,
            data: readPolicyRows
        "></data-table>
        <validation-message params="field: form.readPolicy"></validation-message>
    </div>

    <div class="push-next">
        <h2 class="heading3">Write Policy</h2>
        <p>This gateway bucket will write its data to the selected namespace resource
        <editor params="
            label: 'Namespace Resource',
            disabled: isWritePolicyDisabled
        ">
            <dropdown params="
                options: writePolicyOptions,
                selected: form.writePolicy,
                disabled: isWritePolicyDisabled,
                invalid: form.writePolicy.isInvalidTouched
            "></dropdown>
            <validation-message params="field: form.writePolicy"></validation-message>
        </editor>
<!--             <dropdown params="
                options: writePolicyOptions,
                selected: form.writePolicy,
                disabled: isWritePolicyDisabled,
                invalid: form.writePolicy.isInvalidTouched
            "></dropdown>      -->
    </div>

    <div class="row content-middle align-end">
        <button class="link alt-colors push-next" ko.click="onCancel">
            Cancel
        </button>

        <button class="btn" ko.shakeOnClick="!form.isValid()">
            Save
        </button>
    </div>
</form>
<!-- /ko -->
