<!-- Copyright (C) 2016 NooBaa -->

<modal class="modal-small" params="
    title: 'Edit Server Time Settings',
    onClose: () => cancel()
">
    <!-- ko if: isFormReady -->
    <editor params="label: 'Config type'">
        <radio-group params="
            options: configTypes,
            selected: selectedConfigType
        "></radio-group>
    </editor>

    <timezone-chooser params="timezone: timezone"></timezone-chooser>

    <div class="forms row push-next greedy">
        <date-time-chooser params="time: time, timezone: timezone"
            class="manual-form" data-bind="visibility: usingManualTime">
        </date-time-chooser>

        <editor class="ntp-form" params="label: 'NTP Server'" data-bind="visibility: usingNTP">
            <div class="row content-middle"
                 data-bind="validationOptions: { insertMessages: false }"
            >
                <input type="text" placeholder="IP or DNS name" ko.value="ntpServer" />
                <svg-icon class="spin push-prev-half"
                    data-bind="visible: ntpServer.isValidating"
                    params="name: 'in-progress'"></svg-icon>
            </div>
            <span class="val-msg" data-bind="validationMessage: ntpServer"></span>
        </editor>
    </div>

    <div class="row content-middle align-end push-prev">
        <button class="link push-next alt-colors" data-bind="click: cancel">
            Cancel
        </button>
        <button class="btn" data-bind="
            click: save,
            shakeOnClick: !isValid()
        ">
            save
        </button>
    </div>
    <!-- /ko -->
</modal>
