<!-- Copyright (C) 2016 NooBaa -->

<form class="column greedy">
    <new-wizard class="column greedy" params="
        steps: steps,
        step: form.step,
        canAdvance: form.isValid,
        onBeforeStep: onBeforeStep.bind($component),
        onCancel: close,
        onComplete: close
    ">
        <section class="push-prev">
            <h2 class="heading3">Choose a pool to assign the installed nodes to:</h2>
            <p class="push-next">
                Each installed node has to be assigned to a nodes pool according to the administrator reflection on specific characteristics of these nodes. Nodes can be re-assigned later on.
            </p>
            <editor params="label: 'Target Pool'">
                <dropdown params="
                    options: poolOptions,
                    selected: form.targetPool,
                    placeholder: 'Choose pool...',
                    invalid: form.targetPool.isInvalidTouched
                "></dropdown>
                <validation-message params="field: form.targetPool"></validation-message>
            </editor>
        </section>

        <section class="column greedy push-prev">
            <h2 class="heading3">Choose drives for installation:</h2>
            <radio-btn params="
                group: 'drives',
                value: false,
                selected: form.excludeDrives,
                label: 'Include all drives in installed nodes'
            "></radio-btn>
            <p class="push-next">
                All drives in the following installation will participate as NooBaa's capacity
            </p>

            <radio-btn params="
                group: 'drives',
                value: true,
                selected: form.excludeDrives,
                label: 'Exclude drives for this installation'
            "></radio-btn>
            <p ko.css.disabled="!form.excludeDrives()">
                Choose the drives you which to exclude from this installation:
            </p>
            <token-field class="column greedy push-prev-half" params="
                tokens: form.excludedDrives,
                placeholder: drivesInputPlaceholder,
                disabled: !form.excludeDrives()
            "></token-field>
            <p class="remark" ko.css.disabled="!form.excludeDrives()">
                Type drives names accurately, click enter after each drive name.
            </p>
        </section>

        <section class="column greedy push-prev">
            <h2 class="heading3">Network Installation</h2>
            <p class="push-next">
                Use your distribution utilities to install the NooBaa daemon over the network. This option require direct access from the target machine to the NooBaa server.
            </p>
            <p class="push-next-half">
                Use the following command in your distribution tool according to the OS type:
            </p>

            <div class="greedy tabs push-next-half">
                <nav ko.foreach="osTypes">
                    <a ko.css.selected="$parent.form.selectedOs.is(value)"
                        ko.click="() => $parent.onTab(value)"
                    >{{label}}</a>
                </nav>

                <div class="tabs-row alt-bg" ko.foreach="osTypes">
                    <div class="tab pad row config-box"
                        ko.css.selected="$parent.form.selectedOs.is(value)"
                        ko.let.command="($parent.form.commands() || {})[value]"
                    >
                        <p class="text-tech greedy">{{command}}</p>
                        <copy-to-clipboard-button params="value: command">
                        </copy-to-clipboard-button>
                    </div>
                </div>
            </div>
            <p class="remark">
                <svg-icon class="icon-small" params="name: 'notif-info'"></svg-icon>
                <span class="os-hint" ko.text="osHint"></span>
            </p>
        </section>
    </new-wizard>
</form>
