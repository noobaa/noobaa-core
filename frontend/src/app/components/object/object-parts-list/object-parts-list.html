<!-- Copyright (C) 2016 NooBaa -->

<div class="row content-middle alt-bg pad push-next">
    <h3 class="heading3 push-next greedy">
        Part count for this file:
        <span data-bind="text: count"></span>
    </h3>

    <a class="btn push-next" download data-bind="attr: { href: s3SignedUrl }" >
        Download File
    </a>

    <button class="btn" data-bind="click: onPreviewFile">
        Preview File
    </button>
</div>

<ul class="part-list list-no-style column greedy" data-bind="foreach: rows">
    <li>
        <div class="row content-middle" data-bind="click: toggleExpend">
            <svg-icon class="push-next" params="name: stateIcon.name" data-bind="
                css: stateIcon.css,
                tooltip: stateIcon.tooltip
            "></svg-icon>

            <div class="greedy">
                <span data-bind="text: label"></span>
            </div>

            <button class="expand-btn btn-flat rotate no-outline" data-bind="
                css: { 'deg-90': !isExpended() }
            ">
                <svg-icon class="expand-icon icon-small" params="
                    name: 'chevron'
                "></svg-icon>
            </button>
        </div>

        <section class="column" data-bind="expand: isExpended">
            <data-table class="alt-bg push-next blocks-table" params="
            columns: columns,
            data: blocks
        "></data-table>
        </section>
    </li>
</ul>

<paginator params="page: page, itemCount: count, pageSize: pageSize"></paginator>
