<!-- Copyright (C) 2016 NooBaa -->

<div class="row content-middle alt-bg pad push-next">
    <h3 class="heading3 push-next greedy">
        Part count for this file:
        {{count}}
    </h3>

    <div class="column push-next" ko.tooltip="tooltip">
        <a class="btn" download
            ko.css.disabled="notOwner"
            ko.click="onDownloadClick"
            ko.attr.href="s3SignedUrl" >
            Download File
        </a>
    </div>

    <div ko.tooltip="tooltip">
        <button class="btn"
            ko.disable="notOwner"
            ko.click="onPreviewFile">
            Preview File
        </button>
    </div>
</div>

<ul class="part-list list-no-style column greedy" ko.foreach="rows">
    <li>
        <div class="row content-middle" ko.click="toggleExpend">
            <svg-icon class="push-next"
                params="name: stateIcon.name"
                ko.css="stateIcon.css",
                ko.tooltip="stateIcon.tooltip">
            </svg-icon>
            <div class="greedy">
                {{label}}
            </div>

            <button class="expand-btn btn-flat rotate no-outline"
                    ko.css="{ 'deg-90': !isExpended() }">
                <svg-icon class="expand-icon icon-small" params="
                    name: 'chevron'
                "></svg-icon>
            </button>
        </div>

        <section class="column" ko.expand="isExpended">
            <data-table class="alt-bg push-next blocks-table" params="
                columns: columns,
                data: blocks
            "></data-table>
        </section>
    </li>
</ul>

<paginator params="page: page, itemCount: count, pageSize: pageSize"></paginator>
