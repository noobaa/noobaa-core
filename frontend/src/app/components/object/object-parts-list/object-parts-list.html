<!-- Copyright (C) 2016 NooBaa -->

<div class="row content-middle alt-bg pad push-next">
    <h3 class="heading3 push-next greedy">
        Part count for this file:
        {{count}}
    </h3>

    <a class="btn push-next" download ko.attr.href="s3SignedUrl" >
        Download File
    </a>

    <button class="btn" ko.click="onPreviewFile">
        Preview File
    </button>
</div>

<ul class="part-list list-no-style column greedy" ko.foreach="rows">
    <li>
        <div class="row content-middle" ko.click="toggleExpend">
            <svg-icon class="push-next"
                params="name: stateIcon.name"
                ko.css="stateIcon.css",
                ko.tooltip="stateIcon.tooltip">
            </svg-icon>
            <div class="greedy">
                {{label}}
            </div>

            <button class="expand-btn btn-flat rotate no-outline"
                    ko.css="{ 'deg-90': !isExpended() }">
                <svg-icon class="expand-icon icon-small" params="
                    name: 'chevron'
                "></svg-icon>
            </button>
        </div>

        <section class="column" ko.expand="isExpended">
            <data-table class="alt-bg push-next blocks-table" params="
            columns: columns,
            data: blocks
        "></data-table>
        </section>
    </li>
</ul>

<paginator params="page: page, itemCount: count, pageSize: pageSize"></paginator>
