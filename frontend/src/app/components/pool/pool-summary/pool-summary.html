<!-- Copyright (C) 2016 NooBaa -->

<div class="fill row" ko.visible="!poolLoaded()">
    <loading-indicator class="align-middle greedy" params="label: true"></loading-indicator>
</div>

<div class="row summary" ko.css.visible="poolLoaded">
    <section class="c3 column borders pad">
        <p class="row heading3 content-middle">
            <svg-icon class="push-next" ko.css="state().css" params="name: state().name"></svg-icon>
            {{state().tooltip}}
        </p>
        <hr />
        <div class="row greedy content-middle">
            <div class="greedy ">
                <chart-legend class="host-counters" params="items: hostCounters"></chart-legend>
            </div>
            <vr></vr>
            <div class="greedy align-middle text-center">
                <p class="host-count" ko.text="hostCount"></p>
                <p> Nodes</p>
            </div>
        </div>
    </section>

    <section class="c6 column push-both">
        <div class="row align-middle">
            <chart-legend class="pad" params="
                items: pieValues,
                caption: 'Pool Capacity',
                format: 'size'
            "></chart-legend>

            <pie-chart class="align-middle push-prev" params="
                values: pieValues,
                primaryText: totalCapacity,
                secondaryText: 'Total'
            "></pie-chart>
        </div>
    </section>

    <section class="column c3 borders pad">
        <h3 class="heading3">{{activitiesTitle}}</h3>
        <hr>
        <p class="remark push-next">{{activityText}}</p>
        <!-- ko if: hasActivities -->
        <bar class="push-next-half" params="
            values: activityBar.values,
            markers: hasActivities() ? [activityBar.marker] : []
        "></bar>
        <p class="remark align-end">ETA: {{activityEta}}</p>

        <!-- ko if: hasAdditionalActivities -->
            <hr>
            <p class="align-start"
                ko.text="additionalActivitiesMessage"
                ko.tooltip="additionalActivitiesTooltip"
            ></p>
        <!-- /ko -->
        <!-- /ko -->
    </section>
</div>
